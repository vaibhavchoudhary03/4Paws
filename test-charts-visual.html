<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 7 Charts Visual Test</title>
    <script src="https://unpkg.com/recharts@2.15.2/umd/Recharts.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .chart-container {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .pass { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§ª Phase 7 Charts Visual Test</h1>
        <p>This page tests the chart rendering functionality for Phase 7 Reports & Analytics.</p>
        
        <div id="test-results"></div>
        
        <!-- Species Distribution Pie Chart -->
        <div class="chart-container">
            <div class="chart-title">Species Distribution Pie Chart</div>
            <div id="pie-chart" style="height: 300px;"></div>
        </div>
        
        <!-- Animal Status Bar Chart -->
        <div class="chart-container">
            <div class="chart-title">Animal Status Bar Chart</div>
            <div id="bar-chart" style="height: 300px;"></div>
        </div>
        
        <!-- Monthly Intake Trends Line Chart -->
        <div class="chart-container">
            <div class="chart-title">Monthly Intake Trends Line Chart</div>
            <div id="line-chart" style="height: 300px;"></div>
        </div>
        
        <!-- Volunteer Activity Area Chart -->
        <div class="chart-container">
            <div class="chart-title">Volunteer Activity Area Chart</div>
            <div id="area-chart" style="height: 300px;"></div>
        </div>
    </div>

    <script>
        // Test data (matching our actual data)
        const speciesData = [
            { name: 'cat', value: 28 },
            { name: 'dog', value: 22 }
        ];
        
        const statusData = [
            { status: 'foster', count: 2 },
            { status: 'available', count: 27 },
            { status: 'fostered', count: 21 }
        ];
        
        const monthlyIntakes = [
            { month: '2025-05', intakes: 3 },
            { month: '2025-06', intakes: 15 },
            { month: '2025-07', intakes: 32 }
        ];
        
        const volunteerTrends = [
            { date: '2025-09-01', hours: 8, activities: 3 },
            { date: '2025-09-02', hours: 12, activities: 4 },
            { date: '2025-09-03', hours: 6, activities: 2 },
            { date: '2025-09-04', hours: 10, activities: 3 },
            { date: '2025-09-05', hours: 14, activities: 5 }
        ];
        
        const colors = ['#f97316', '#22c55e', '#3b82f6', '#eab308', '#ef4444', '#8b5cf6'];
        
        // Test results
        const testResults = [];
        
        function addTestResult(test, status, message) {
            testResults.push({ test, status, message });
            updateTestResults();
        }
        
        function updateTestResults() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = testResults.map(result => 
                `<div class="test-result ${result.status}">
                    <strong>${result.test}:</strong> ${result.message}
                </div>`
            ).join('');
        }
        
        // Test 1: Species Distribution Pie Chart
        try {
            const pieChart = new Recharts.PieChart({
                width: 400,
                height: 300,
                data: speciesData
            });
            
            const pie = new Recharts.Pie({
                dataKey: "value",
                data: speciesData,
                cx: 200,
                cy: 150,
                outerRadius: 80,
                fill: "#8884d8",
                label: ({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`
            });
            
            pieChart.render(document.getElementById('pie-chart'));
            addTestResult('Pie Chart', 'pass', 'Species distribution pie chart rendered successfully');
        } catch (error) {
            addTestResult('Pie Chart', 'fail', `Failed to render pie chart: ${error.message}`);
        }
        
        // Test 2: Animal Status Bar Chart
        try {
            const barChart = new Recharts.BarChart({
                width: 400,
                height: 300,
                data: statusData
            });
            
            const bar = new Recharts.Bar({
                dataKey: "count",
                fill: "#f97316"
            });
            
            const xAxis = new Recharts.XAxis({ dataKey: "status" });
            const yAxis = new Recharts.YAxis();
            const tooltip = new Recharts.Tooltip();
            
            barChart.render(document.getElementById('bar-chart'));
            addTestResult('Bar Chart', 'pass', 'Animal status bar chart rendered successfully');
        } catch (error) {
            addTestResult('Bar Chart', 'fail', `Failed to render bar chart: ${error.message}`);
        }
        
        // Test 3: Monthly Intake Trends Line Chart
        try {
            const lineChart = new Recharts.LineChart({
                width: 400,
                height: 300,
                data: monthlyIntakes
            });
            
            const line = new Recharts.Line({
                type: "monotone",
                dataKey: "intakes",
                stroke: "#22c55e",
                strokeWidth: 2
            });
            
            const xAxis = new Recharts.XAxis({ dataKey: "month" });
            const yAxis = new Recharts.YAxis();
            const tooltip = new Recharts.Tooltip();
            
            lineChart.render(document.getElementById('line-chart'));
            addTestResult('Line Chart', 'pass', 'Monthly intake trends line chart rendered successfully');
        } catch (error) {
            addTestResult('Line Chart', 'fail', `Failed to render line chart: ${error.message}`);
        }
        
        // Test 4: Volunteer Activity Area Chart
        try {
            const areaChart = new Recharts.AreaChart({
                width: 400,
                height: 300,
                data: volunteerTrends
            });
            
            const area = new Recharts.Area({
                type: "monotone",
                dataKey: "hours",
                stackId: "1",
                stroke: "#3b82f6",
                fill: "#3b82f6"
            });
            
            const xAxis = new Recharts.XAxis({ dataKey: "date" });
            const yAxis = new Recharts.YAxis();
            const tooltip = new Recharts.Tooltip();
            
            areaChart.render(document.getElementById('area-chart'));
            addTestResult('Area Chart', 'pass', 'Volunteer activity area chart rendered successfully');
        } catch (error) {
            addTestResult('Area Chart', 'fail', `Failed to render area chart: ${error.message}`);
        }
        
        // Overall test result
        setTimeout(() => {
            const passedTests = testResults.filter(r => r.status === 'pass').length;
            const totalTests = testResults.length;
            
            if (passedTests === totalTests) {
                addTestResult('Overall Result', 'pass', `All ${totalTests} chart tests passed! Phase 7 charts are working correctly.`);
            } else {
                addTestResult('Overall Result', 'fail', `${passedTests}/${totalTests} chart tests passed. Some charts may have issues.`);
            }
        }, 1000);
    </script>
</body>
</html>
